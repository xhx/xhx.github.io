<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Xiaohui Xie&#39;s Site</title>
<meta name="keywords" content="">
<meta name="description" content="Principle of Inclusion and Exclusion (PIE)
The Principle of Inclusion and Exclusion (PIE) is a fundamental concept in combinatorics that helps to calculate the number of elements in the union of multiple sets, especially when these sets overlap. It is particularly useful in problems where direct counting leads to overcounting due to overlapping regions.
Principle of Inclusion and Exclusion (PIE) Formula:
For two sets ( A ) and ( B ), the number of elements in their union ( A \cup B ) can be calculated as:">
<meta name="author" content="Xiaohui Xie">
<link rel="canonical" href="http://localhost:1313/notes/math/amc/amc10/counting-prob/principle-of-inclusion-and-exclusion-pie-225936cc2214811681e2e364d7b7cd2d/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/notes/math/amc/amc10/counting-prob/principle-of-inclusion-and-exclusion-pie-225936cc2214811681e2e364d7b7cd2d/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body,{
          delimiters:[
            {left:'$$', right:'$$', display:true},
            {left:'$',  right:'$',  display:false},
            {left:'\\(', right:'\\)', display:false},
            {left:'\\[', right:'\\]', display:true}
          ],
          throwOnError:false
        });"></script>



</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Xiaohui Xie&#39;s Site (Alt + H)">Xiaohui Xie&#39;s Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/notes/">Notes</a>&nbsp;»&nbsp;<a href="http://localhost:1313/notes/math/">Mathematics Notes</a>&nbsp;»&nbsp;<a href="http://localhost:1313/notes/math/amc/">AMC Problems</a>&nbsp;»&nbsp;<a href="http://localhost:1313/notes/math/amc/amc10/">AMC 10</a>&nbsp;»&nbsp;<a href="http://localhost:1313/notes/math/amc/amc10/counting-prob/">Counting &amp; Probability</a></div>
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">4 min&nbsp;·&nbsp;Xiaohui Xie

</div>
  </header> 
  <div class="post-content"><h1 id="principle-of-inclusion-and-exclusion-pie">Principle of Inclusion and Exclusion (PIE)<a hidden class="anchor" aria-hidden="true" href="#principle-of-inclusion-and-exclusion-pie">#</a></h1>
<p>The <strong>Principle of Inclusion and Exclusion (PIE)</strong> is a fundamental concept in combinatorics that helps to calculate the number of elements in the union of multiple sets, especially when these sets overlap. It is particularly useful in problems where direct counting leads to overcounting due to overlapping regions.</p>
<h3 id="principle-of-inclusion-and-exclusion-pie-formula">Principle of Inclusion and Exclusion (PIE) Formula:<a hidden class="anchor" aria-hidden="true" href="#principle-of-inclusion-and-exclusion-pie-formula">#</a></h3>
<p>For two sets ( A ) and ( B ), the number of elements in their union ( A \cup B ) can be calculated as:</p>
<p>[
|A \cup B| = |A| + |B| - |A \cap B|
]</p>
<ul>
<li>The formula includes ( |A| ) and ( |B| ) (the sizes of the sets), but since the intersection ( A \cap B ) is counted twice (once in ( |A| ) and once in ( |B| )), it must be subtracted once to avoid overcounting.</li>
</ul>
<p>For three sets ( A ), ( B ), and ( C ), the formula extends to:</p>
<p>$$</p>
<p>|A \cup B \cup C| = |A| + |B| + |C| - |A \cap B| - |A \cap C| - |B \cap C| + |A \cap B \cap C|</p>
<p>$$</p>
<ul>
<li>This formula works by:
<ol>
<li>Adding the sizes of the individual sets.</li>
<li>Subtracting the sizes of the pairwise intersections (since these have been counted twice).</li>
<li>Adding back the size of the triple intersection (since it has been subtracted too many times).</li>
</ol>
</li>
</ul>
<h3 id="general-pie-formula">General PIE Formula:<a hidden class="anchor" aria-hidden="true" href="#general-pie-formula">#</a></h3>
<p>For ( n ) sets ( A_1, A_2, \dots, A_n ), the number of elements in the union ( A_1 \cup A_2 \cup \dots \cup A_n ) is given by:</p>
<p>$$</p>
<p>|A_1 \cup A_2 \cup \dots \cup A_n| = \sum_{i=1}^{n} |A_i| - \sum_{1 \leq i &lt; j \leq n} |A_i \cap A_j| + \sum_{1 \leq i &lt; j &lt; k \leq n} |A_i \cap A_j \cap A_k| - \dots + (-1)^{n+1} |A_1 \cap A_2 \cap \dots \cap A_n|</p>
<p>$$</p>
<p>This formula alternates between adding and subtracting the sizes of intersections of increasing numbers of sets.</p>
<h3 id="intuition-behind-pie">Intuition Behind PIE:<a hidden class="anchor" aria-hidden="true" href="#intuition-behind-pie">#</a></h3>
<p>The idea behind PIE is that if you directly add the sizes of the sets, you overcount the elements in the intersections multiple times. The inclusion-exclusion principle corrects this overcounting by:</p>
<ul>
<li><strong>Including</strong> the sizes of the individual sets.</li>
<li><strong>Excluding</strong> the pairwise intersections (which were overcounted).</li>
<li><strong>Including</strong> the triple intersections (which were undercounted after subtracting twice), and so on.</li>
</ul>
<h3 id="example-problem-using-pie">Example Problem Using PIE:<a hidden class="anchor" aria-hidden="true" href="#example-problem-using-pie">#</a></h3>
<p>Suppose in a group of students:</p>
<ul>
<li>30 students like Math.</li>
<li>25 students like Science.</li>
<li>20 students like History.</li>
<li>10 students like both Math and Science.</li>
<li>5 students like both Science and History.</li>
<li>8 students like both Math and History.</li>
<li>3 students like all three subjects.</li>
</ul>
<p>How many students like at least one of the three subjects?</p>
<h3 id="step-by-step-solution-using-pie">Step-by-step solution using PIE:<a hidden class="anchor" aria-hidden="true" href="#step-by-step-solution-using-pie">#</a></h3>
<p>Let:</p>
<ul>
<li>( M ) be the set of students who like Math.</li>
<li>( S ) be the set of students who like Science.</li>
<li>( H ) be the set of students who like History.</li>
</ul>
<p>We need to find ( |M \cup S \cup H| ), the number of students who like at least one subject. Using the PIE formula for three sets:</p>
<p>[
|M \cup S \cup H| = |M| + |S| + |H| - |M \cap S| - |S \cap H| - |M \cap H| + |M \cap S \cap H|
]</p>
<p>Substitute the given values:</p>
<p>[
|M \cup S \cup H| = 30 + 25 + 20 - 10 - 5 - 8 + 3
]</p>
<p>Simplify:</p>
<p>[
|M \cup S \cup H| = 75 - 23 + 3 = 55
]</p>
<p>Thus, <strong>55 students</strong> like at least one of the three subjects.</p>
<h3 id="conclusion">Conclusion:<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>The <strong>Principle of Inclusion and Exclusion (PIE)</strong> is an essential tool for solving problems that involve counting the union of overlapping sets, especially in situations where direct counting leads to overcounting. It is a versatile technique that appears in many combinatorics problems, including those on exams like the AMC (American Mathematics Competition).</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Xiaohui Xie&#39;s Site</a></span> · 

    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
